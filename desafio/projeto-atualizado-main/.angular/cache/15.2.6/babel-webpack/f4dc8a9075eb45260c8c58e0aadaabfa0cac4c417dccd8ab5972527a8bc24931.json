{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet EditarComponent = class EditarComponent {\n  constructor(tarefaService, http) {\n    this.tarefaService = tarefaService;\n    this.http = http;\n    this.atividades = [];\n    this.tarefaEmEdicao = null;\n  }\n  ngOnInit() {\n    this.getAtividades();\n  }\n  getAtividades() {\n    this.tarefaService.getAtividades().subscribe(atividades => this.atividades = atividades);\n  }\n  editarTarefa(tarefa) {\n    if (this.tarefaEmEdicao && this.tarefaEmEdicao.id === tarefa.id) {\n      this.salvarTarefa(); // Salva a tarefa em edição se houver uma e for a mesma que está sendo clicada novamente\n    } else {\n      this.tarefaEmEdicao = {\n        ...tarefa,\n        editando: true\n      };\n    }\n  }\n  salvarTarefa() {\n    if (this.tarefaEmEdicao) {\n      this.tarefaService.atualizarAtividade(this.tarefaEmEdicao).subscribe(() => {\n        this.tarefaService.getAtividades().subscribe(atividades => {\n          this.atividades = atividades; // Atualiza as atividades no navegador\n          this.tarefaEmEdicao = null; // Limpa a tarefa em edição após salvar\n        });\n      });\n    }\n  }\n\n  isTarefaEmEdicao(tarefa) {\n    return this.tarefaEmEdicao !== null && tarefa.id === this.tarefaEmEdicao.id;\n  }\n};\nEditarComponent = __decorate([Component({\n  selector: 'app-editar',\n  templateUrl: './editar.component.html',\n  styleUrls: ['./editar.component.scss']\n})], EditarComponent);\nexport { EditarComponent };","map":{"version":3,"mappings":";AACA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAK1BC,YAAoBC,aAA4B,EAAUC,IAAgB;IAAtD,kBAAa,GAAbD,aAAa;IAAyB,SAAI,GAAJC,IAAI;IAHvD,eAAU,GAAkB,EAAE;IAC9B,mBAAc,GAAuB,IAAI;EAE8B;EAE9EC,QAAQ;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEQA,aAAa;IACnB,IAAI,CAACH,aAAa,CAACG,aAAa,EAAE,CAACC,SAAS,CAACC,UAAU,IAAI,IAAI,CAACA,UAAU,GAAGA,UAAU,CAAC;EAC1F;EAEOC,YAAY,CAACC,MAAmB;IACrC,IAAI,IAAI,CAACC,cAAc,IAAI,IAAI,CAACA,cAAc,CAACC,EAAE,KAAKF,MAAM,CAACE,EAAE,EAAE;MAC/D,IAAI,CAACC,YAAY,EAAE,CAAC,CAAC;KACtB,MAAM;MACL,IAAI,CAACF,cAAc,GAAG;QAAE,GAAGD,MAAM;QAAEI,QAAQ,EAAE;MAAI,CAAE;;EAEvD;EAEOD,YAAY;IACjB,IAAI,IAAI,CAACF,cAAc,EAAE;MACvB,IAAI,CAACR,aAAa,CAACY,kBAAkB,CAAC,IAAI,CAACJ,cAAc,CAAC,CAACJ,SAAS,CAAC,MAAK;QACxE,IAAI,CAACJ,aAAa,CAACG,aAAa,EAAE,CAACC,SAAS,CAACC,UAAU,IAAG;UACxD,IAAI,CAACA,UAAU,GAAGA,UAAU,CAAC,CAAC;UAC9B,IAAI,CAACG,cAAc,GAAG,IAAI,CAAC,CAAC;QAC9B,CAAC,CAAC;MACJ,CAAC,CAAC;;EAEN;;EAEOK,gBAAgB,CAACN,MAAmB;IACzC,OAAO,IAAI,CAACC,cAAc,KAAK,IAAI,IAAID,MAAM,CAACE,EAAE,KAAK,IAAI,CAACD,cAAc,CAACC,EAAE;EAC7E;CAED;AAtCYX,eAAe,eAL3BD,SAAS,CAAC;EACTiB,QAAQ,EAAE,YAAY;EACtBC,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,yBAAyB;CACtC,CAAC,GACWlB,eAAe,CAsC3B;SAtCYA,eAAe","names":["Component","EditarComponent","constructor","tarefaService","http","ngOnInit","getAtividades","subscribe","atividades","editarTarefa","tarefa","tarefaEmEdicao","id","salvarTarefa","editando","atualizarAtividade","isTarefaEmEdicao","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\joao2\\Desktop\\NOVO-PROJETO\\desafio\\projeto-atualizado-main\\src\\app\\paginas\\editar\\editar.component.ts"],"sourcesContent":["import { ITarefaEnum } from 'src/app/shared/models/ITarefa';\nimport { Component, OnInit } from '@angular/core';\nimport { TarefaService } from 'src/app/shared/service/tarefa.service';\nimport { HttpClient } from '@angular/common/http';\n\n\n@Component({\n  selector: 'app-editar',\n  templateUrl: './editar.component.html',\n  styleUrls: ['./editar.component.scss']\n})\nexport class EditarComponent implements OnInit {\n\n  public atividades: ITarefaEnum[] = [];\n  public tarefaEmEdicao: ITarefaEnum | null = null;\n\n  constructor(private tarefaService: TarefaService, private http: HttpClient) { }\n\n  ngOnInit(): void {\n    this.getAtividades();\n  }\n\n  private getAtividades(): void {\n    this.tarefaService.getAtividades().subscribe(atividades => this.atividades = atividades);\n  }\n\n  public editarTarefa(tarefa: ITarefaEnum): void {\n    if (this.tarefaEmEdicao && this.tarefaEmEdicao.id === tarefa.id) {\n      this.salvarTarefa(); // Salva a tarefa em edição se houver uma e for a mesma que está sendo clicada novamente\n    } else {\n      this.tarefaEmEdicao = { ...tarefa, editando: true };\n    }\n  }\n\n  public salvarTarefa(): void {\n    if (this.tarefaEmEdicao) {\n      this.tarefaService.atualizarAtividade(this.tarefaEmEdicao).subscribe(() => {\n        this.tarefaService.getAtividades().subscribe(atividades => {\n          this.atividades = atividades; // Atualiza as atividades no navegador\n          this.tarefaEmEdicao = null; // Limpa a tarefa em edição após salvar\n        });\n      });\n    }\n  }\n\n  public isTarefaEmEdicao(tarefa: ITarefaEnum): boolean {\n    return this.tarefaEmEdicao !== null && tarefa.id === this.tarefaEmEdicao.id;\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}